<?php

defined('BASEPATH') OR exit('No direct script access allowed');

class Migration_Add_column_to_game_description_20150924 extends CI_Migration {

	private $tableName = 'game_description';

	function up() {
		$this->dbforge->add_column($this->tableName, [
			'attributes' => array(
				'type' => 'VARCHAR',
				'constraint' => 2000,
				'null' => true,
			),
			'game_order' => array(
				'type' => 'INT',
				'null' => true,
			),
		]);

		# START ADD DATA TO COLUMN
		// $h88_data = json_decode('{"list":{"fcgz":{"g":[1,2,4,7],"a":[],"b":0,"c":0,"d":0,"e":null,"t":{"t":"game","u":"fcgz","i":"4"}},"nian_k":{"g":[1,2,4,7],"a":[],"b":0,"c":0,"d":0,"e":null,"t":{"t":"game","u":"nian_k","i":"4"}},"thtk":{"g":[1,2,4,7],"a":[],"b":0,"c":0,"d":0,"e":null,"t":{"t":"game","u":"thtk","i":"4"}},"bld":{"g":[1,2,3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"fnfrj":{"g":[1,2,4,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"fnfrj4","i":"1"}},"irm3":{"g":[1,2,3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"ashfmf":{"g":[1,3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"avng":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"bld50":{"g":[1,3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"cam":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"drd":{"g":[1,3,7],"a":[],"b":0,"c":0,"d":0,"e":null,"t":false},"dt2":{"g":[1,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"elr":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"fnf":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":1,"e":1,"t":false},"fnf50":{"g":[1,3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"fxf":{"g":[1,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"glr":{"g":[1,3,4,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":{"t":"game","u":"glrjj-1","i":"1"}},"gtscirsj":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":1,"e":2,"t":false},"gtsdgk":{"g":[1,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtsgoc":{"g":[1,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtspor":{"g":[1,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"hlk2":{"g":[1,3,7],"a":[2,3,4],"b":1,"c":0,"d":1,"e":1,"t":false},"hlk50":{"g":[1,3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"irm50":{"g":[1,3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"bib":{"g":[2,7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":0,"t":false},"bt":{"g":[2,7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"c7":{"g":[2,7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"cm":{"g":[2,7],"a":[1],"b":0,"c":0,"d":1,"e":0,"t":false},"dlm":{"g":[2,3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"dt":{"g":[2,3,7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":2,"t":false},"eas":{"g":[2,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"er":{"g":[2,7],"a":[1],"b":0,"c":0,"d":1,"e":0,"t":false},"fff":{"g":[2,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"fm":{"g":[2,7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"gos":{"g":[2,7],"a":[1],"b":0,"c":0,"d":0,"e":2,"t":false},"gtshwkp":{"g":[2,7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"hlf":{"g":[2,7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":0,"t":false},"sib":{"g":[2,3,7],"a":[1],"b":1,"c":0,"d":0,"e":2,"t":false},"ssp":{"g":[2,7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":0,"t":false},"ashamw":{"g":[3,7],"a":[8],"b":0,"c":0,"d":0,"e":2,"t":false},"fsc":{"g":[3,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"gtswg":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"hsd":{"g":[3,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"pbro":{"g":[3,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"qbd":{"g":[3,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"photk":{"g":[3,7],"a":[1],"b":1,"c":1,"d":0,"e":2,"t":false},"lvb":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":2,"t":false},"ct":{"g":[3,7],"a":[1],"b":1,"c":0,"d":1,"e":2,"t":false},"fbr":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":2,"t":false},"fow":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":2,"t":false},"hk":{"g":[3,7],"a":[1],"b":1,"c":0,"d":0,"e":2,"t":false},"ts":{"g":[3,7],"a":[5,6,7],"b":0,"c":0,"d":0,"e":2,"t":false},"gtsbayw":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"gtssprs":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":2,"t":false},"gtsjhw":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"car":{"g":[3,4,8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"game","u":"car","i":"1"}},"gtsmrln":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"trm":{"g":[3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"wvm":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"xmn":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"xmn50":{"g":[3,7],"a":[5,6,7],"b":1,"c":0,"d":0,"e":1,"t":false},"ghr":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"irm3sc":{"g":[3,6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"irmn3sc":{"g":[3,6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"irmn3":{"g":[3,7],"a":[2,3,4],"b":1,"c":0,"d":1,"e":1,"t":false},"rom":{"g":[3,8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rky":{"g":[3,7],"a":[2,3,4],"b":0,"c":1,"d":0,"e":2,"t":false},"gtssmdm":{"g":[3,7],"a":[5,6,7],"b":0,"c":0,"d":0,"e":2,"t":false},"kkgsc":{"g":[3,6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"mmy":{"g":[3,7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":2,"t":false},"gtscbl":{"g":[3,7],"a":[1],"b":0,"c":0,"d":0,"e":2,"t":false},"fdt":{"g":[3,7],"a":[2,3,4],"b":0,"c":1,"d":1,"e":2,"t":false},"tps":{"g":[3,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"al":{"g":[3,7],"a":[1],"b":0,"c":0,"d":0,"e":2,"t":false},"gts5":{"g":[3,8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ttc":{"g":[3,7],"a":[2,3,4],"b":0,"c":1,"d":0,"e":2,"t":false},"jb10p":{"g":[4,9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"game","u":"jb10p","i":"1"}},"bl":{"g":[4,7],"a":[2,3,4],"b":1,"c":0,"d":1,"e":0,"t":{"t":"game","u":"bl","i":"1"}},"cifr":{"g":[4,7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"cifr","i":"1"}},"grel":{"g":[4,7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"grel","i":"1"}},"ms":{"g":[4,7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"ms1","i":"1"}},"bls":{"g":[4,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"game","u":"bls","i":"1"}},"mj":{"g":[4,9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"game","u":"mj1","i":"1"}},"qop":{"g":[4,7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"qop2","i":"1"}},"sc":{"g":[4,7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":{"t":"game","u":"sc3","i":"1"}},"wc":{"g":[4,6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"game","u":"wc4","i":"1"}},"ghlj":{"g":[4,5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"group","u":"ghlj","i":"4"}},"str":{"g":[4,8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"group","u":"str_sb","i":"5"}},"wsffr":{"g":[4,7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":{"t":"group","u":"wsffr","i":"5"}},"wv":{"g":[4,8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":{"t":"group","u":"wv_s","i":"5"}},"atw":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"bowl":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"dctw":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ghl":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"head":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"hr":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"kgdb":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"kn":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"lwh":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"mro":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"pop":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"pso":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rcd":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rps":{"g":[5],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"bbn":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"essc":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"fbm":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"lom":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"pks":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"sbj":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"scs":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"sro":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ssa":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"tclsc":{"g":[6],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ah2":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":false},"cnpr":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":false},"evj":{"g":[7],"a":[1],"b":1,"c":0,"d":0,"e":2,"t":false},"fmn":{"g":[7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":false},"gs":{"g":[7],"a":[1],"b":1,"c":0,"d":0,"e":0,"t":false},"hb":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":false},"pyrrk":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":0,"t":false},"spidc":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":1,"t":false},"8bs":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"foy":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"gc":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"glg":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtsaod":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtsjzc":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtssmbr":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtsstg":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"gtswng":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"hh":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"jb":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"kkg":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"mcb":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":1,"e":0,"t":false},"nk":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"op":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"pl":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"sf":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"ssl":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"ta":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"tp":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"tr":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"tst":{"g":[7],"a":[5,6,7],"b":0,"c":0,"d":0,"e":0,"t":false},"ub":{"g":[7],"a":[1],"b":0,"c":0,"d":0,"e":0,"t":false},"whk":{"g":[7],"a":[5,6,7],"b":0,"c":0,"d":1,"e":0,"t":false},"wis":{"g":[7],"a":[2,3,4],"b":1,"c":0,"d":0,"e":2,"t":false},"wlg":{"g":[7],"a":[2,3,4],"b":0,"c":0,"d":0,"e":0,"t":false},"ba":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"cheaa":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"cr":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"frr":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"frr_g":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"gtsro3d":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"romw":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"pg":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rd":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ro":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ro_g":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"ro3d":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rodz":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rodz_g":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rop":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rop_g":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"rouk":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"sb":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"tqp":{"g":[8],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"af":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"af25":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"af4":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"dw":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"dw4":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"hljb":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"jb4":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"jb50":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"jp":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"po":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false},"tob":{"g":[9],"a":[],"b":null,"c":null,"d":null,"e":null,"t":false}}}');

		// $i = 1;
		// foreach ($h88_data->list as $key => &$value) {

		// 	$query = $this->db->where([
		// 			'game_code' => $key,
		// 			'game_platform_id' => 1,
		// 		])->get('game_description');

		// 	if ($result = $query->row()) {
		// 		$this->db->set([
		// 			'game_order' => $i++,
		// 			'attributes' => json_encode($value)
		// 		])->where([
		// 			'game_code' => $key,
		// 			'game_platform_id' => 1,
		// 		])->update('game_description');
		// 	}

		// }
		# END ADD DATA TO COLUMN
	}

	public function down() {
		$this->dbforge->drop_column($this->tableName, 'attributes');
		$this->dbforge->drop_column($this->tableName, 'game_order');
	}
}