/*
 * jQuery / jqLite Wizard Plugin
 * version: 0.0.7
 * Author: Girolamo Tomaselli http://bygiro.com
 *
 * Copyright (c) 2013 G. Tomaselli
 * Licensed under the MIT license.
 */

// compatibility for jQuery / jqLite
var bg=bg||!1;
bg||("undefined"!=typeof jQuery?bg=jQuery:"undefined"!=typeof angular&&(bg=angular.element,function(){bg.extend=angular.extend;bg.isFunction=angular.isFunction;bg.prototype.is=function(a){for(var b=0;b<this.length;b++){var g=this[b];if((g.matches||g.matchesSelector||g.msMatchesSelector||g.mozMatchesSelector||g.webkitMatchesSelector||g.oMatchesSelector).call(g,a))return!0}return!1};bg.prototype.find=function(a){var b=this[0],g=[];if(!b||1!==b.nodeType&&9!==b.nodeType||"string"!=typeof a)return[];for(b=
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            0;b<this.length;b++){var h=bg(this[b].querySelectorAll(a));g.push.apply(g,h.slice())}return bg(g)};bg.prototype.outerWidth=function(){var a=this[0];return"undefined"==typeof a?null:a.offsetWidth};bg.prototype.width=function(){var a=this[0];if("undefined"==typeof a)return null;var b=getComputedStyle(a);a=a.offsetWidth;b&&(a-=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight));return a}}()));
(function(a,b,g){var h={currentStep:0,checkStep:!1,onCompleted:!1,bottomButtons:!0,topButtons:!0,autoSubmit:!1,keyboard:!1,btnClass:"btn",btnClassDefault:"btn-default",btnClassCompleted:"btn-success",text:{finished:"SIGN UP WITH LENSAWIN",next:"NEXT",previous:"GO BACK"}},t=function(){var f=this;f.$element.find(".btn-next, .btn-prev").on("click",function(c){if(!a(this).attr("disabled")&&!a(this).hasClass("disabled")&&a(this).is(":visible")){var d=a(this).hasClass("btn-next")?"next":"previous";c.stopPropagation();
    f[d].call(f,!0,c)}});f.$element.find(".steps > li").on("click",function(c){c.stopPropagation();var d=a(this).attr("data-step");if(!a(this).hasClass("completed"))return!0;f.setStep.call(f,d,c)});a(b).on("keydown",function(a){f.$element.is(":visible")&&(a.ctrlKey&&37==a.keyCode&&(a.stopPropagation(),a.preventDefault(),f.previous.call(f,!0,a)),a.ctrlKey&&39==a.keyCode&&(a.stopPropagation(),a.preventDefault(),f.next.call(f,!0,a)))})},q=function(){var f=0,c=!1,d=this.$element.find(".steps"),e=this.$element.find(".steps > li"),
    b=this.options,g=a(".step-text"),p=a(".step-four");this.currentStep||(this.currentStep=1);e.removeClass("active");this.$element.find('.steps > li[data-step="'+this.currentStep+'"]').addClass("active");this.$element.find(".steps-content .step-pane").removeClass("active");this.$element.find('.steps-content .step-pane[data-step="'+this.currentStep+'"]').addClass("active");for(var l=0;l<e.length;l++){var m=a(e[l]);this.currentStep>l+1?m.addClass("completed"):m.removeClass("completed");var n=m.outerWidth();
    !c&&m.hasClass("active")&&(c=f+n/2);f+=n}this.$element.find(".btn-next").removeClass("final-step "+b.btnClassCompleted).addClass(b.btnClassDefault);this.$element.find(".btn-prev").removeClass("disabled hidden");if(this.currentStep==e.length){var h=a("ul.steps > li.completed .step-index .label");n=a("ul.steps > span.label");a("#stepsIndex > ul > li").removeClass("completed").addClass("done");this.$element.find(".btn-next").removeClass(b.btnClassDefault).addClass("final-step "+b.btnClassCompleted);
    a(g).hide();a(p).show();a(".step-four").replaceWith('<li class="completed" data-step="4"><span class="step-index"><b>SUMMARY</b></span></li>');a(h).addClass("disabled").css("background-color","#83b752");a('.steps > li[data-step="4"]').css("opacity","1");a(n).addClass("disabled");this.$element.find(".btn-prev").addClass("disabled hidden")}else if(1==this.currentStep)this.$element.find(".btn-prev").addClass("disabled hidden"),a(g).show(),a('.steps > li[data-step="4"]').css("opacity","0"),a(h).css("background-color",
    "#858584");else if(2==this.currentStep||3==this.currentStep)a(g).show(),a('.steps > li[data-step="4"]').css("opacity","0"),a(h).css("background-color","#858584");b=this.$element.width()-this.$element.find(".actions").outerWidth();f<b||(f=c-b/2,0<f?d.css("left",-f):d.css("left",0))},k=function(a,c,d,b){var f=!0,e=this.$element.find(".steps > li"),g=!1;!1!==b&&"function"==typeof this.options.checkStep&&(f=this.options.checkStep(this,c,d));if(f&&(a?this.currentStep=parseInt(a):c?this.currentStep++:this.currentStep--,
        this.$element.triggerHandler("step_changed.wizardByGiro"),0>this.currentStep&&(this.currentStep=0),this.currentStep>e.length&&(this.currentStep=e.length,g=!0),q.call(this),g))if("function"==typeof this.options.onCompleted)this.options.onCompleted(this);else this.options.autoSubmit&&(a=this.$element.closest("form"),a.length&&a.submit())},u={init:function(f,b){this.$element=a(f);var d=this.options=a.extend({},h,b);this.$element.addClass("wizard");var e=this.$element.find(".steps");this.$element.find(".top-actions");
    var c=this.$element.find(".bottom-actions");this.$element.find(".progress-bar");e.parent().hasClass("wizard")?e.wrap('<div class="steps-index-container" id="stepsIndex"></div>'):e.parent().addClass("steps-index-container");e="";d.bottomButtons&&!c.length&&(e=e+'<div class="bottom-actions">'+('<div class="left-actions"><span class="'+d.btnClass+" "+d.btnClassDefault+' btn-prev"><span class="previous-text">'+d.text.previous+"</span></span></div>"),e+='<div class="right-actions"><span class="'+d.btnClass+
        " "+d.btnClassDefault+' btn-next"><span class="next-text">'+d.text.next+'</span><span class="finished-text"><a href="javascript:void(0)">'+d.text.finished+"</a></span></div>",e+="</div>",this.$element.find(".steps-content").append(e));c=this.$element.find(".steps > li");for(d=0;d<c.length;d++){e=a(c[d]);var k=e.attr("data-step"),p='<span class="step-text">'+e.html()+"</span>";e.empty().html('<span class="step-index"><span class="label">'+(d+1)+"</span></span>"+p);this.$element.find('.steps-content [data-step="'+
        k+'"]').addClass("step-pane");e.hasClass("active")&&!this.currentStep&&(this.currentStep=d+1)}this.$element.find(".steps > li:nth-child(4)").addClass("final");t.call(this);c=["checkStep","onCompleted"];for(d=0;d<c.length;d++)e=c[d],"string"==typeof this.options[e]&&"function"==typeof g[this.options[e]]&&(this.options[e]=g[this.options[e]]);q.call(this)},next:function(a,c){Register.validateSteps(this.currentStep)&&k.call(this,!1,!0,c,a)},previous:function(a,c){k.call(this,!1,!1,c,a)},setStep:function(a,
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 c,b){k.call(this,a,null,b,c)}},r=function(b){var c=this.data("plugin_wizardByGiro");return c?"string"===typeof b&&c[b]?c[b].apply(c,Array.prototype.slice.call(arguments,1)):console.log("Method "+arg+" does not exist on jQuery / jqLitewizardByGiro"):b&&"object"!==typeof b?console.log('wizardByGiro is not instantiated. Please call $("selector").wizardByGiro({options})'):(c=a.extend({},u),c.init(this,b),this.data("plugin_wizardByGiro",c),this)};a.fn?a.fn.wizardByGiro=r:a.prototype.wizardByGiro=r;a(b).ready(function(){var f=
    b.querySelector("[data-wizard-init]");a(f).wizardByGiro({})})})(bg,document,window);